--[[
# Conky Theme: xs-infopanel
# Author : lectrode
# Based on Minimalis Conky 1.3 by archit3x@archlinux.us
# Release date : 2021/04/06
# Version : 0.5.0
# Tested on : Manjaro - XFCE Desktop
# Feel free to modity this script ;)
# Resources :
# http://conky.sourceforge.net/config_settings.html
# http://conky.sourceforge.net/variables.html
]]

conky.config = {
    alignment = 'top_right',
    background = true,
    border_width = 1,
    cpu_avg_samples = 2,
    default_color = 'white',
    default_outline_color = 'black',
    default_shade_color = 'white',
    color1 = 'green',
    color2 = 'yellow',
    color3 = 'red',
    double_buffer = true,
    draw_borders = true,
    draw_graph_borders = true,
    draw_outline = true,
    draw_shades = true,
    extra_newline = false,
    font = 'DejaVuSansMono:size=9',
    gap_x = 15,
    gap_y = 15,
    if_up_strictness = 'address',
    minimum_height = 650,
    minimum_width = 220,
    net_avg_samples = 2,
    no_buffers = true,
    out_to_console = false,
    out_to_ncurses = false,
    out_to_stderr = false,
    out_to_x = true,
    own_window = true,
    own_window_class = 'Conky',
    own_window_transparent = false,
    own_window_argb_visual = true,
    own_window_argb_value = 200,
    own_window_type = 'normal',
    own_window_hints ='undecorated,sticky,skip_taskbar,skip_pager,below',
    pad_percents = 3,
    show_graph_range = false,
    show_graph_scale = false,
    stippled_borders = 0,
    update_interval = 2.0,
    uppercase = false,
    use_spacer = 'none',
    use_xft = true,

    template0 = [[${color1}${goto 30}]],
    template7 = [[${color}${if_match ${acpitemp}0 > 700}${color2}$endif${if_match ${acpitemp}0 > 850}${color3}$endif${exec sensors | grep 'temp1' | awk 'NR==\1{print $2}'}]],
    template8 = [[Core \1 : ${color}${freq_g \1}GHz ${alignr}${cpu cpu\1}% ${if_match 850 < ${cpu cpu\1}0}${color2}$endif${if_match 900 < ${cpu cpu\1}0}${color3}$endif${cpubar cpu\1 4,100}]],
    template9 = [[${exec echo "\1        "|cut -c1-9}: ${color}${fs_used \1}/${fs_size \1} ${alignr}${fs_used_perc \1}% ${if_match 850 < ${fs_used_perc \1}0}${color2}$endif${if_match 900 < ${fs_used_perc \1}0}${color3}$endif${fs_bar 7,100 \1}]]

}



conky.text = [[
${color}${font DejaVuSansMono:size=20}$alignc${time %H:%M.%S}${font}
${color}${font DejaVuSansMono:size=16}$alignc${time %A}, ${time %Y/%m/%d}${font}

${color1}${font ConkySymbols:size=20}t${font} ${voffset -10}GNU/Linux» $hr ${color}
$template0OS     : ${color}${execi 86400 cat `ls -atr /etc/*-release | tail -2` | grep "NAME" | cut -d= -f2 |  sed 's/"//g'}
$template0Kernel : ${color}$kernel [$machine]


${color1}${font ConkySymbols:size=16}f${font} ${voffset -10} System» $hr${color}
$template0CPU    :${color}${execi 86400 cat /proc/cpuinfo | grep -m1 "model name" | cut -d: -f2 | sed 's/Intel(R) Core(TM) //g'}
$template0${template8 0}
$template0${template8 1}
$template0${template8 2}
$template0${template8 3}
$template0${template8 4}
$template0${template8 5}
$template0${template8 6}
$template0${template8 7}

$template0Uptime : ${color}$uptime_short ${alignr}${color1}Load  : ${color}${loadavg}


${color1}${font ConkySymbols:size=16}h${font} ${voffset -10} Temperature» $hr${color}
$template0CPU :  ${template7 1}${alignr}${color1}GPU : ${template7 2}


${color1}${font ConkySymbols:size=16}J${font} ${voffset -10}Memory» $hr${color}
$template0RAM : ${color}$mem/$memmax ${alignr}$memperc% ${membar 7,100}
$template0SWAP: ${color}$swap/$swapmax $alignr}$swapperc% ${swapbar 7,100}


${color1}${font ConkySymbols:size=16}n${font} ${voffset -10} Processes» $hr${color}

$template0CPU usage ${alignr}Memory Usage${color}
$template0${stippled_hr}${color}
${goto 35}${top name 1} ${color}${top cpu 1}% ${alignr}${top_mem name 1}${top_mem mem_res 1}
${goto 35}${top name 2} ${color}${top cpu 2}% ${alignr}${top_mem name 2}${top_mem mem_res 2}
${goto 35}${top name 3} ${color}${top cpu 3}% ${alignr}${top_mem name 3}${top_mem mem_res 3}
${goto 35}${top name 4} ${color}${top cpu 4}% ${alignr}${top_mem name 4}${top_mem mem_res 4}
${goto 35}${top name 5} ${color}${top cpu 5}% ${alignr}${top_mem name 5}${top_mem mem_res 5}

$template0Processes: ${color}$processes ${color1}Running: ${color}$running_processes


${color1}${font ConkySymbols:size=16}k${font} ${voffset -10} Storage» $hr${color}
$template0${template9 /}
$template0${template9 /home}
$template0${template9 /storage}
${if_up wlp3s0}

${color1}${font ConkySymbols:size=16}b${font} ${voffset -10} Wireless» $hr${color}
$template0SSID      : ${color}${wireless_essid wlp3s0} ${color1}${alignr} ${color}${wireless_link_qual_perc wlp3s0}% ${wireless_link_bar 7,100 wlp3s0}
$template0IP        : ${color}${addr wlp3s0}
# $template0Bitrate   : ${color}${wireless_bitrate wlp3s0}
$template0Speed D/U : ${color}${downspeed wlp3s0} / ${upspeed wlp3s0}
$template0Total D/U : ${color}${totaldown wlp3s0} / ${totalup wlp3s0}$endif
${if_up enp0s25}

${color1}${font ConkySymbols:size=16}d${font} ${voffset -10} LAN» $hr${color}
$template0IP            : ${color}${addr enp0s25}
$template0Speed Down/Up : ${color}${downspeed enp0s25} / ${upspeed enp0s25}
$template0Total Down/Up : ${color}${totaldown enp0s25} / ${totalup enp0s25}$endif
#$template0Ext IP        : ${color}${execi 86400 curl -s http://myexternalip.com/raw}

]]
